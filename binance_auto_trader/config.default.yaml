# Binance Auto Trader Configuration

# ãƒˆãƒ¬ãƒ¼ãƒ‰ã‚·ãƒ³ãƒœãƒ«è¨­å®š
trading:
  symbols:
    - BTC/JPY
    - ETH/JPY
    - DOGE/JPY
  timeframe: 1m
  quantity: 0.0
  max_open_trades: "6Trades"
  max_investment_per_trade: "0JPY"
  max_total_investment: "0JPY"
  # 0Trades ã§ç„¡åˆ¶é™
  # 0JPY ã§ç„¡åˆ¶é™

# æˆ¦ç•¥è¨­å®š
# 
# === Freqtrade-style Operation ===
# LLMãƒãƒ¼ãƒªãƒ³ã‚°é–“éš”ã‚’èª¿æ•´ã—ã¦ã‚³ã‚¹ãƒˆå‰Šæ¸›ã¨è‡ªç«‹å‹•ä½œã‚’å®Ÿç¾
# 
# æ¨å¥¨è¨­å®š:
#   - llm_polling_interval: 3600 (1æ™‚é–“) - ãƒãƒ©ãƒ³ã‚¹å‹
#   - llm_polling_interval: 1800 (30åˆ†) - é »ç¹æ›´æ–°
#   - llm_polling_interval: 14400 (4æ™‚é–“) - ã‚³ã‚¹ãƒˆé‡è¦–
#   - technical_only_mode: true - å®Œå…¨è‡ªç«‹ï¼ˆLLMãªã—ï¼‰
# 
strategies:
  active:
    - coffin299
  moving_average_cross:
    fast_ma: 9
    slow_ma: 21
  coffin299:
    provider: openrouter
    
    # === Freqtrade-style Autonomous Operation ===
    llm_polling_interval: 3600    # LLM polling every 1 hour (3600s) - reduces API costs by 98%
    technical_only_mode: false    # false = LLM-assisted, true = pure technical (no LLM)
    llm_confidence_boost: 0.15    # LLM adds confidence when available
    
    # === Position Management (Auto profit-taking & stop-loss) ===
    track_positions: true         # Enable position tracking
    take_profit_pct: 2.0          # Auto sell at +2% profit
    stop_loss_pct: 1.5            # Auto sell at -1.5% loss
    
    # === Trading Parameters ===
    min_confidence: 0.30          # Base confidence threshold (dynamically adjusted)
    aggressive_mode: true         # Enable aggressive trading mode
    use_technical_signals: true   # Use technical indicators to validate AI decisions
    dynamic_threshold: true       # Adjust threshold based on market conditions
    opportunity_detection: true   # Enhanced opportunity detection
    
    prompt_template: |
      ğŸ¯ SMART AGGRESSIVE TRADER: {symbol} ({timeframe})
      
      ğŸ“Š MARKET DATA:
      Price: {previous_close:.4f} | Change: {recent_change_pct:+.2f}%
      RSI: {rsi:.2f} | Volume: {volume_trend:.2f}x | Momentum: {momentum:.4f}
      Trend: {fast_sma:.4f} / {slow_sma:.4f} | Volatility: {volatility_pct:.2f}%
      
      ğŸš€ TRADING RULES (AGGRESSIVE):
      BUY when:
        - RSI < 45 (oversold zone) OR
        - Momentum > 0 + Volume > 1.2x OR
        - Recent change > +0.8% with volume confirmation
      
      SELL when:
        - RSI > 55 (overbought zone) OR
        - Momentum < -0.0005 OR
        - Volume drops < 0.8x with negative momentum
      
      HOLD only when market is truly neutral (rare!)
      
      ğŸ¯ OBJECTIVES:
      Target: +4% gains | Stop: -2% loss
      Philosophy: Act decisively on opportunities, avoid analysis paralysis
      
      ğŸ“ RESPONSE FORMAT:
      Reply with: BUY, SELL, or HOLD
      Preferred: JSON {{"action": "BUY/SELL/HOLD", "confidence": 0.0-1.0, "reasoning": "brief explanation"}}

# AIãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼è¨­å®š
ai:
  providers:
    - name: openrouter
      base_url: https://openrouter.ai/api/v1
      model: "deepseek/deepseek-chat-v3.1:free"
      temperature: 0.6
      api_keys:
        - ""

# ãƒªã‚¹ã‚¯ç®¡ç†è¨­å®š
risk_management:
  stop_loss_percent: 2.0
  take_profit_percent: 4.0

# åˆæœŸè³‡é‡‘è¨­å®šï¼ˆJPYãƒ™ãƒ¼ã‚¹ï¼‰
initial_capital:
  jpy_amount: 4000  # åˆæœŸJPYæ®‹é«˜ï¼ˆå°‘é¡ã‚¹ã‚¿ãƒ¼ãƒˆï¼‰
  allow_start_from_cash: true  # ç¾é‡‘ã®ã¿ã‹ã‚‰ã‚¨ãƒ³ãƒˆãƒªãƒ¼é–‹å§‹ã‚’è¨±å¯

# ä¿æœ‰è³‡ç”£æ´»ç”¨è¨­å®š
asset_management:
  use_held_assets: true  # ä¿æœ‰è³‡ç”£ã‚’å£²å´ã—ã¦æ–°è¦ãƒã‚¸ã‚·ãƒ§ãƒ³ã‚’é–‹ã
  max_asset_utilization: 0.8  # ä¿æœ‰è³‡ç”£ã®æœ€å¤§åˆ©ç”¨ç‡ï¼ˆ80%ï¼‰
  prefer_profitable_assets: true  # åˆ©ç›ŠãŒå‡ºã¦ã„ã‚‹è³‡ç”£ã‚’å„ªå…ˆçš„ã«å£²å´
  direct_swap: true  # è³‡ç”£é–“ã®ç›´æ¥äº¤æ›ã‚’è¨±å¯
  swap_pairs: ["ETH/BTC"]  # è¨±å¯ã™ã‚‹äº¤æ›ãƒšã‚¢ï¼ˆBinanceæœ‰åŠ¹ã‚·ãƒ³ãƒœãƒ«ã®ã¿ï¼‰
  min_swap_ratio: 0.1  # æœ€å°äº¤æ›æ¯”ç‡ï¼ˆ10%ï¼‰
  auto_convert_to_jpy: true  # è‡ªå‹•JPYå¤‰æ›æ©Ÿèƒ½
  jpy_convert_threshold: 0.5  # 50%ä»¥ä¸Šåˆ©ç›Šã®å ´åˆã«JPYã¸å¤‰æ›
  max_convert_positions: 4  # ä¸€åº¦ã«å¤‰æ›ã™ã‚‹æœ€å¤§ãƒã‚¸ã‚·ãƒ§ãƒ³æ•°

# Discordé€šçŸ¥è¨­å®š
discord:
  enabled: false
  bot_token: ""
  channel_ids: []  # å–å¼•é€šçŸ¥ç”¨ãƒãƒ£ãƒ³ãƒãƒ«ID
  wallet_channel_ids: []  # ã‚¦ã‚©ãƒ¬ãƒƒãƒˆé€šçŸ¥ç”¨ãƒãƒ£ãƒ³ãƒãƒ«IDï¼ˆåˆ¥ãƒãƒ£ãƒ³ãƒãƒ«ã«é€ä¿¡ã™ã‚‹å ´åˆï¼‰
  rate_limit:
    max_messages: 15
    per_seconds: 5
  ansi_wrap: true
  commands_enabled: true
  command_guild_ids: []
  allowed_user_ids: []

# ãƒ­ã‚°è¨­å®š
logging:
  level: DEBUG
  file: trading_bot.log
  console: true

# Webãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰è¨­å®š
web:
  enabled: true
  host: 127.0.0.1
  port: 8000
  refresh_interval_seconds: 10  # Increased to avoid API rate limits

# ========================================
#  ç’°å¢ƒè¨­å®š (æœ¬ç•ª/ãƒ†ã‚¹ãƒˆç’°å¢ƒ)
# ========================================

# Binance APIè¨­å®š
binance:
  api_key: ""
  api_secret: ""
  testnet: true  # âš ï¸ false=æœ¬ç•ªç’°å¢ƒ true=ãƒ†ã‚¹ãƒˆãƒãƒƒãƒˆ
  recv_window_ms: 5000

# WebSocketè¨­å®šï¼ˆãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ä¾¡æ ¼å–å¾—ï¼‰
# WebSocketã‚’ä½¿ç”¨ã™ã‚‹ã¨APIå‘¼ã³å‡ºã—ãŒ90%ä»¥ä¸Šå‰Šæ¸›ã•ã‚Œã€ãƒ¬ãƒ¼ãƒˆåˆ¶é™ã‚’å›é¿ã§ãã¾ã™
websocket:
  enabled: true  # WebSocketã‚’æœ‰åŠ¹åŒ–ï¼ˆæ¨å¥¨: trueï¼‰

# ãƒãƒƒã‚¯ãƒ†ã‚¹ãƒˆè¨­å®š
backtesting:
  enabled: true  # âš ï¸ false=æœ¬ç•ªç’°å¢ƒ
  lookback_intervals: 200
  symbols:
    - BTC/JPY
    - ETH/JPY
    - DOGE/JPY
  timeframe: 1m

# ãƒ©ãƒ³ã‚¿ã‚¤ãƒ è¨­å®š
# âš ï¸ Binance API Rate Limit: 1200 weight/min, 6000 weight/5min
# æ¨å¥¨: 60ç§’ä»¥ä¸Šã®ãƒãƒ¼ãƒªãƒ³ã‚°é–“éš”ã§APIãƒãƒ³ã‚’å›é¿
runtime:
  dry_run: true  # âš ï¸ false=æœ¬ç•ªç’°å¢ƒ true=ãƒ‰ãƒ©ã‚¤ãƒ©ãƒ³
  polling_interval_seconds: 60  # Increased from 264 to avoid API rate limits (min: 60s recommended)